$('#contentbody').replaceWith('<%= j(render('contact_body', contacts: @filtered_contacts, contact: @contact)) %>')
$('.contact_list a').removeClass('active')
$('[data-id=<%= @contact.id %>]').addClass('active')
$.mpdx.activateTabs()
$.mpdx.sortableTabs('contact')
$.mpdx.loadTabData(window.location.hash)
$.mpdx.loadDonations()

// fix to hide mysterious donations tab that won't go away
$('#tabs_donations').remove()

document.title = '<%= @page_title %> - MPDX'
History.pushState({contact_id: <%= @contact.id %>}, "<%== sanitize @contact.name %>", '<%= contact_path(@contact) %>' + document.location.hash)
