<div ng-if="$ctrl.errorOccurred">
  <%= _('Report data could not load due to an error. Please try again or contact support.') %>
</div>

<div ng-if="!$ctrl.errorOccurred" class="table">
  <div ng-repeat="(currency, donationsByContactId) in $ctrl.donationsByCurrencyAndContactId"
    ng-init="currencySymbol = $ctrl.currencySymbols[currency]">
    <h2>{{currency}} ({{currencySymbol}})</h2>
    <div ng-repeat="(contact_id, donations) in donationsByContactId"
      ng-init="donor = $ctrl.donorsById[contact_id][0]">

      {{donor.name}}
      <div ng-repeat="donation in donations">
        {{donation.amount}}
      </div>
    </div>
  </div>
</div>
